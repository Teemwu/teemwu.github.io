import{_ as s,c as n,o as a,a as o}from"./app.e82fe6cf.js";const C=JSON.parse('{"title":"Uncaught (in promise) undefined","description":"","frontmatter":{"title":"Uncaught (in promise) undefined","author":"teemwu","date":"2020/01/19 14:13","isPublished":true,"categories":["Javascript","\u62A5\u9519"],"tags":null},"headers":[{"level":1,"title":"Uncaught (in promise) undefined","slug":"uncaught-in-promise-undefined","link":"#uncaught-in-promise-undefined","children":[{"level":3,"title":"\u53C2\u8003","slug":"\u53C2\u8003","link":"#\u53C2\u8003","children":[]}]}],"relativePath":"\u968F\u7B14/2020/Uncaught (in promise) undefined.md","lastUpdated":1670153836000}'),l={name:"\u968F\u7B14/2020/Uncaught (in promise) undefined.md"},p=o(`<h1 id="uncaught-in-promise-undefined" tabindex="-1">Uncaught (in promise) undefined <a class="header-anchor" href="#uncaught-in-promise-undefined" aria-hidden="true">#</a></h1><p>Vue-router &gt;= 3.1.0 \u7248\u672C\u5728\u4F7F\u7528 push \u548C replace \u8FDB\u884C\u8DF3\u8F6C\u65F6\u63A7\u5236\u53F0\u4F1A\u629B\u51FA\u5F02\u5E38\uFF0C\u5176\u4E3B\u8981\u539F\u56E0\u662F vue-router 3.1.0 \u7248\u672C\u4EE5\u540E router.push(&#39;/path&#39;) \u8FD4\u56DE\u4E86 promise \uFF0C\u800C\u5F53\u8DEF\u7531\u8DF3\u8F6C\u5F02\u5E38\u65F6\u4FBF\u4F1A\u629B\u51FA\u9519\u8BEF\uFF0C\u6B64\u524D\u7248\u672C\u6CA1\u6709\u62A5\u9519\u662F\u56E0\u4E3A vue-router \u6839\u672C\u6CA1\u6709\u8FD4\u56DE\u9519\u8BEF\u4FE1\u606F\uFF0C\u6240\u4EE5\u4E4B\u524D\u6211\u4EEC\u4E00\u76F4\u65E0\u6CD5\u6355\u83B7\u5F02\u5E38\uFF0C\u800C\u5E76\u975E\u5F02\u5E38\u4E0D\u5B58\u5728\u3002\u5F53\u7136\uFF0C\u5F88\u591A\u65F6\u5019\u8FD9\u4E9B\u62A5\u9519\u6211\u4EEC\u4E0D\u7528\u5173\u5FC3\uFF0C\u9664\u975E\u6709\u4E9B\u5730\u65B9\u9700\u8981\u7279\u6B8A\u5904\u7406\u3002\u4E0B\u9762\u7ED9\u51FA\u4E9B\u89E3\u51B3\u65B9\u6CD5\u3002</p><p>\u4F7F\u7528\u65F6\u8FDB\u884C\u9519\u8BEF\u62E6\u622A\uFF1A</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">router</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/path</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">catch</span><span style="color:#A6ACCD;">(</span><span style="color:#A6ACCD;">err</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>\u5168\u5C40\u8FDB\u884C\u9519\u8BEF\u62E6\u622A\uFF1A</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> routerMethods </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">push</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">replace</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">routerMethods</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">forEach</span><span style="color:#A6ACCD;">(</span><span style="color:#A6ACCD;">method</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">originalCall</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">VueRouter</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">method</span><span style="color:#F07178;">]</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">VueRouter</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">method</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">location</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">onResolve</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">onReject</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">onResolve</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">||</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">onReject</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">originalCall</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">location</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">onResolve</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">onReject</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">originalCall</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">location</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">catch</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">err</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">err</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><h3 id="\u53C2\u8003" tabindex="-1">\u53C2\u8003 <a class="header-anchor" href="#\u53C2\u8003" aria-hidden="true">#</a></h3><p><a href="https://github.com/vuejs/vue-router/issues/2881" target="_blank" rel="noreferrer">https://github.com/vuejs/vue-router/issues/2881</a></p>`,8),e=[p];function t(r,c,y,F,D,i){return a(),n("div",null,e)}const u=s(l,[["render",t]]);export{C as __pageData,u as default};
