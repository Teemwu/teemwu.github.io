import{_ as c,c as r,a as l,w as i,b as n,d as D,e as F,r as e,o as y}from"./app.bba8534e.js";const b=JSON.parse('{"title":"在 template 中使用 sass 变量","description":"","frontmatter":{"title":"在 template 中使用 sass 变量","author":"teemwu","date":"2021/01/09 11:09","isPublished":true,"categories":["Javascript","Vue"],"tags":["sass"],"wordCount":363},"headers":[{"level":1,"title":"在 template 中使用 sass 变量","slug":"在-template-中使用-sass-变量","link":"#在-template-中使用-sass-变量","children":[{"level":3,"title":"参考","slug":"参考","link":"#参考","children":[]}]}],"relativePath":"posts/2021/在 template 中使用 sass 变量.md","lastUpdated":1677057861000}'),d={name:"posts/2021/在 template 中使用 sass 变量.md"},u=n("h1",{id:"在-template-中使用-sass-变量",tabindex:"-1"},[D("在 template 中使用 sass 变量 "),n("a",{class:"header-anchor",href:"#在-template-中使用-sass-变量","aria-hidden":"true"},"#")],-1),C=F(`<p>日常开发中总会有些不如意的地方。比如说，在 sass 中定义好了颜色变量，而在 template 却不能直接使用，每次都要去找到对应的色彩值手动进行复制粘贴，真的是伤害不高，侮辱性极强！ 那么，我们该如何解决这个问题呢？其实很简单， 可以使用 CSS Modules 提供的 :export 关键字，示例如下</p><div class="language-scss"><button title="Copy Code" class="copy"></button><span class="lang">scss</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">// styles/_variables.scss</span></span>
<span class="line"><span style="color:#A6ACCD;">$purple</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">#</span><span style="color:#A6ACCD;">5344b6</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">:export </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    purple</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> $purple</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>在 .vue 中使用</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">van-icon</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">:color</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">variables.purple</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> variables </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@/styles/_variables.scss</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">data</span><span style="color:#89DDFF;">(){</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">             </span><span style="color:#A6ACCD;">variables</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>为了方便管理，以及其它地方引用 <code>_variables.scss</code> 连同<code>:export</code>一同被解析的问题，我们新建一个文件来管理提供变量给 js 的方法</p><div class="language-scss"><button title="Copy Code" class="copy"></button><span class="lang">scss</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">// styles/_export.scss</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">@import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./_variables.scss</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">:</span><span style="color:#82AAFF;">export</span><span style="color:#A6ACCD;"> {</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">purple</span><span style="color:#A6ACCD;">: $purple</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span></code></pre></div><p>每次使用时都要定义个变量，是否还是有些不爽？别急，Vue 用户的话，如下可以解决</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">van-icon</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">:color</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">$style.purple</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">style</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">module</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">lang</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">scss</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">src</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">@/styles/_export.scss</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">style</span><span style="color:#89DDFF;">&gt;      </span></span>
<span class="line"></span></code></pre></div><p>如果项目中使用了 typescript ，想要使用时有提示，则可定义对应的 ts 声明文件</p><h3 id="参考" tabindex="-1">参考 <a class="header-anchor" href="#参考" aria-hidden="true">#</a></h3><ul><li><a href="https://css-tricks.com/getting-javascript-to-talk-to-css-and-sass/" target="_blank" rel="noreferrer">https://css-tricks.com/getting-javascript-to-talk-to-css-and-sass/</a></li><li><a href="https://github.com/css-modules/icss#export" target="_blank" rel="noreferrer">https://github.com/css-modules/icss#export</a></li><li><a href="https://www.netguru.com/codestories/vue.js-scoped-styles-vs-css-modules" target="_blank" rel="noreferrer">https://www.netguru.com/codestories/vue.js-scoped-styles-vs-css-modules</a></li><li><a href="https://vue-loader.vuejs.org/guide/css-modules.html#usage" target="_blank" rel="noreferrer">https://vue-loader.vuejs.org/guide/css-modules.html#usage</a></li><li><a href="https://sergiocarracedo.es/2020/07/17/sharing-variables-between-scss-and-typescript/" target="_blank" rel="noreferrer">https://sergiocarracedo.es/2020/07/17/sharing-variables-between-scss-and-typescript/</a></li></ul>`,11);function m(s,a,A,g,h,_){const p=e("articleMeta"),t=e("ClientOnly");return y(),r("div",null,[u,l(t,null,{default:i(()=>[l(p,{modelValue:s.$frontmatter,"onUpdate:modelValue":a[0]||(a[0]=o=>s.$frontmatter=o)},null,8,["modelValue"])]),_:1}),C])}const f=c(d,[["render",m]]);export{b as __pageData,f as default};
