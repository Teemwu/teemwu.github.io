import{_ as r,c,a as e,w as i,b as t,d,e as h,r as n,o as m}from"./app.b4c69dc4.js";const C="/assets/2020071000100.50a1df6a.png",k=JSON.parse('{"title":"修改 terminal 主机名和用户名显示","description":"","frontmatter":{"title":"修改 terminal 主机名和用户名显示","author":"teemwu","date":"2020/07/10 00:10","isPublished":true,"categories":["系统","工具"],"tags":["zsh","shell"],"wordCount":368},"headers":[{"level":1,"title":"修改 terminal 主机名和用户名显示","slug":"修改-terminal-主机名和用户名显示","link":"#修改-terminal-主机名和用户名显示","children":[{"level":3,"title":"参考资料","slug":"参考资料","link":"#参考资料","children":[]}]}],"relativePath":"posts/2020/修改 terminal 主机名和用户名显示.md","lastUpdated":1675147220000}'),u={name:"posts/2020/修改 terminal 主机名和用户名显示.md"},_=t("h1",{id:"修改-terminal-主机名和用户名显示",tabindex:"-1"},[d("修改 terminal 主机名和用户名显示 "),t("a",{class:"header-anchor",href:"#修改-terminal-主机名和用户名显示","aria-hidden":"true"},"#")],-1),g=h(`<p>macos 的终端默认显示主机名+用户名，这样显示太长，影响心情。Catalina 之前系统默认 shell 使用的是 bash ，之后则改成了 zsh ，所以网上很多修改终端输出信息的方法都失效了。。。 当然，如果你想用回 bash ，只要在命令行运行以下命令重启终端即可</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">chsh -s /bin/bash</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>不过，这样每次打开终端总是会输出一段官方提示改用 zsh 的话，改回 zsh 通过下面命令即可</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">chsh -s /bin/zsh</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>恢复 zsh 后，我们可以打开 zsh 的配置文件</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">sudo vim /etc/zshrc</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>编辑时提示只可读的话，需要更改文件权限</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">sudo chmod 777 /etc/zshrc</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>改完再进行编辑即可 找到 <code>PS1=&quot;一堆奇怪的东西“</code> 这一行，将其修改为</p><div class="language-bat"><button title="Copy Code" class="copy"></button><span class="lang">bat</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">PS1=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">[</span><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;">T] </span><span style="color:#89DDFF;">%</span><span style="color:#C3E88D;">1~ %# </span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><p>保存一下，重启终端，一下子清爽了许多 <img src="`+C+'" alt=""> 需要说明下：</p><table><thead><tr><th>转义变量</th><th>描述</th></tr></thead><tbody><tr><td>%T</td><td>系统时间（24小时制：时:分）</td></tr><tr><td>%*</td><td>系统时间（24小时制：时:分:秒）</td></tr><tr><td>%n</td><td>你的用户名</td></tr><tr><td>如果自个有其他自定义想法，可以查看 <a href="http://zsh.sourceforge.net/Doc/Release/Prompt-Expansion.html" target="_blank" rel="noreferrer">Prompt-Expansion</a></td><td></td></tr></tbody></table><h3 id="参考资料" tabindex="-1">参考资料 <a class="header-anchor" href="#参考资料" aria-hidden="true">#</a></h3><ul><li><a href="https://apple.stackexchange.com/questions/387102/did-the-shell-terminal-change-in-catalina?answertab=votes#tab-top" target="_blank" rel="noreferrer">https://apple.stackexchange.com/questions/387102/did-the-shell-terminal-change-in-catalina?answertab=votes#tab-top</a></li><li><a href="http://zsh.sourceforge.net/Doc/Release/Prompt-Expansion.html" target="_blank" rel="noreferrer">http://zsh.sourceforge.net/Doc/Release/Prompt-Expansion.html</a></li></ul>',14);function y(a,s,b,A,D,f){const l=n("articleMeta"),o=n("ClientOnly");return m(),c("div",null,[_,e(o,null,{default:i(()=>[e(l,{modelValue:a.$frontmatter,"onUpdate:modelValue":s[0]||(s[0]=p=>a.$frontmatter=p)},null,8,["modelValue"])]),_:1}),g])}const z=r(u,[["render",y]]);export{k as __pageData,z as default};
