import{_ as o}from"./chunks/articleMeta.vue_vue_type_script_setup_true_lang.ec1f1841.js";import{_ as r,c,b as l,w as d,d as n,e as p,a as m,r as h,o as u}from"./app.fe1e5ba4.js";const G=JSON.parse('{"title":"Gitlab 私有化管理 npm 包","description":"","frontmatter":{"title":"Gitlab 私有化管理 npm 包","author":"teemwu","date":"2021/02/03 18:16","isPublished":true,"categories":null,"tags":["gitlab"],"wordCount":232},"headers":[{"level":1,"title":"Gitlab 私有化管理 npm 包","slug":"gitlab-私有化管理-npm-包","link":"#gitlab-私有化管理-npm-包","children":[{"level":3,"title":"新建私有 npm 模块","slug":"新建私有-npm-模块","link":"#新建私有-npm-模块","children":[]},{"level":3,"title":"使用私有 npm 模块","slug":"使用私有-npm-模块","link":"#使用私有-npm-模块","children":[]},{"level":3,"title":"更新私有 npm 模块","slug":"更新私有-npm-模块","link":"#更新私有-npm-模块","children":[]},{"level":3,"title":"问题&解决","slug":"问题-解决","link":"#问题-解决","children":[]},{"level":3,"title":"参考","slug":"参考","link":"#参考","children":[]}]}],"relativePath":"随笔/2021/Gitlab 私有化管理 npm 包.md","lastUpdated":1670810221000}'),k={name:"随笔/2021/Gitlab 私有化管理 npm 包.md"},_=n("h1",{id:"gitlab-私有化管理-npm-包",tabindex:"-1"},[p("Gitlab 私有化管理 npm 包 "),n("a",{class:"header-anchor",href:"#gitlab-私有化管理-npm-包","aria-hidden":"true"},"#")],-1),b=m(`<h3 id="新建私有-npm-模块" tabindex="-1">新建私有 npm 模块 <a class="header-anchor" href="#新建私有-npm-模块" aria-hidden="true">#</a></h3><ol><li>在 Gitlab 新建一个组，名为 kk</li><li>新建组 kk 里新建一个项目 kk-cms</li><li>将 kk-cms 克隆到本地开发环境</li><li>打开 kk-cms 终端执行 <code>npm init --scope=kk</code> 生成 <code>package.json</code> 文件</li><li>将 kk-cms 提交到 Gitlab 仓库</li></ol><h3 id="使用私有-npm-模块" tabindex="-1">使用私有 npm 模块 <a class="header-anchor" href="#使用私有-npm-模块" aria-hidden="true">#</a></h3><ol><li>在需要使用到项目 <code>package.json</code> 文件中添加依赖</li></ol><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">@kk/kk-cms</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">git+http://git.your-inc.com/kk/kk-cms.git</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre></div><ol start="2"><li>执行 <code>npm install</code> 或者 <code>yarn</code> 进行安装即可</li></ol><h3 id="更新私有-npm-模块" tabindex="-1">更新私有 npm 模块 <a class="header-anchor" href="#更新私有-npm-模块" aria-hidden="true">#</a></h3><ol><li><code>npm install @kk/kk-cms</code> 或 <code>yarn upgrade @kk/kk-cms</code></li></ol><h3 id="问题-解决" tabindex="-1">问题&amp;解决 <a class="header-anchor" href="#问题-解决" aria-hidden="true">#</a></h3><ol><li>执行 yarn 进行包安装时报错“Exit code: 128” 清空 yarn 到缓存文件重新安装即可，路径<code>/Users/yourName/Library/Caches/Yarn/v1/.tmp/</code></li></ol><h3 id="参考" tabindex="-1">参考 <a class="header-anchor" href="#参考" aria-hidden="true">#</a></h3><ul><li><a href="https://www.jianshu.com/p/996f8a8d9e17" target="_blank" rel="noreferrer">打造简易的 NPM 私有仓库</a></li><li><a href="https://github.com/yarnpkg/yarn/issues/3303#issuecomment-407369153" target="_blank" rel="noreferrer">Bug: Yarn fails to install (Exit code: 128)</a></li></ul>`,12);function g(e,a,f,y,C,D){const t=o,i=h("ClientOnly");return u(),c("div",null,[_,l(i,null,{default:d(()=>[l(t,{modelValue:e.$frontmatter,"onUpdate:modelValue":a[0]||(a[0]=s=>e.$frontmatter=s)},null,8,["modelValue"])]),_:1}),b])}const V=r(k,[["render",g]]);export{G as __pageData,V as default};
