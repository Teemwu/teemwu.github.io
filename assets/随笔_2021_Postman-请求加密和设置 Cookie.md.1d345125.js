import{_ as s,c as a,o as n,a as o}from"./app.e45ad973.js";const l="/assets/2021012910190.0d666fa7.png",p="/assets/2021012910191.1f1dfb37.png",m=JSON.parse('{"title":"Postman-\u8BF7\u6C42\u52A0\u5BC6\u548C\u8BBE\u7F6E Cookie","description":"","frontmatter":{"title":"Postman-\u8BF7\u6C42\u52A0\u5BC6\u548C\u8BBE\u7F6E Cookie","author":"teemwu","date":"2021/01/29 10:19","isPublished":true,"categories":["\u5DE5\u5177"],"tags":["postman"]},"headers":[{"level":1,"title":"Postman-\u8BF7\u6C42\u52A0\u5BC6\u548C\u8BBE\u7F6E Cookie","slug":"postman-\u8BF7\u6C42\u52A0\u5BC6\u548C\u8BBE\u7F6E-cookie","link":"#postman-\u8BF7\u6C42\u52A0\u5BC6\u548C\u8BBE\u7F6E-cookie","children":[{"level":3,"title":"\u8BF7\u6C42\u52A0\u5BC6","slug":"\u8BF7\u6C42\u52A0\u5BC6","link":"#\u8BF7\u6C42\u52A0\u5BC6","children":[]},{"level":3,"title":"\u8BBE\u7F6E Cookie","slug":"\u8BBE\u7F6E-cookie","link":"#\u8BBE\u7F6E-cookie","children":[]},{"level":3,"title":"\u53C2\u8003","slug":"\u53C2\u8003","link":"#\u53C2\u8003","children":[]}]}],"relativePath":"\u968F\u7B14/2021/Postman-\u8BF7\u6C42\u52A0\u5BC6\u548C\u8BBE\u7F6E Cookie.md","lastUpdated":1664444269000}'),e={name:"\u968F\u7B14/2021/Postman-\u8BF7\u6C42\u52A0\u5BC6\u548C\u8BBE\u7F6E Cookie.md"},t=o(`<h1 id="postman-\u8BF7\u6C42\u52A0\u5BC6\u548C\u8BBE\u7F6E-cookie" tabindex="-1">Postman-\u8BF7\u6C42\u52A0\u5BC6\u548C\u8BBE\u7F6E Cookie <a class="header-anchor" href="#postman-\u8BF7\u6C42\u52A0\u5BC6\u548C\u8BBE\u7F6E-cookie" aria-hidden="true">#</a></h1><h3 id="\u8BF7\u6C42\u52A0\u5BC6" tabindex="-1">\u8BF7\u6C42\u52A0\u5BC6 <a class="header-anchor" href="#\u8BF7\u6C42\u52A0\u5BC6" aria-hidden="true">#</a></h3><div class="language-ini javascript"><button class="copy"></button><span class="lang">ini javascript</span><pre><code><span class="line"><span style="color:#A6ACCD;">/**</span></span>
<span class="line"><span style="color:#A6ACCD;"> * Pre-request Script</span></span>
<span class="line"><span style="color:#A6ACCD;"> */</span></span>
<span class="line"><span style="color:#A6ACCD;">const </span><span style="color:#F07178;">md5</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> CryptoJS.MD5</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">pm.environment.set(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">sign</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, md5(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u8981\u52A0\u5BC6\u7684\u5B57\u7B26\u4E32</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">).toString())</span></span>
<span class="line"><span style="color:#A6ACCD;">pm.environment.set(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">timestamp</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u65F6\u95F4\u6233</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><p>\u8BBE\u7F6E\u5B8C\u73AF\u5883\u53D8\u91CF\u540E\u5373\u53EF\u5728 headers \u4E2D\u4F7F\u7528\uFF0C\u5982\u4E0B\u56FE <img src="`+l+`" alt=""></p><h3 id="\u8BBE\u7F6E-cookie" tabindex="-1">\u8BBE\u7F6E Cookie <a class="header-anchor" href="#\u8BBE\u7F6E-cookie" aria-hidden="true">#</a></h3><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#676E95;">/**</span></span>
<span class="line"><span style="color:#676E95;"> * Pre-request Script</span></span>
<span class="line"><span style="color:#676E95;"> */</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> cookieJar </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> pm</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">cookies</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">jar</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> domain </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> pm</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">request</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">url</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">host</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">.</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">cookieJar</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">set</span><span style="color:#A6ACCD;">(domain</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">cookieName</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">cookieValue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">error</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">cookie</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">error</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">error</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">An error occurred: </span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">error</span><span style="color:#89DDFF;">}\`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">Cookie saved: </span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">cookie</span><span style="color:#89DDFF;">}\`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0C\u8BBE\u7F6E cookie \u9700\u8981\u5F00\u542F\u57DF\u540D\u767D\u540D\u5355\uFF0C\u5982\u4E0B\u56FE <img src="`+p+'" alt=""></p><h3 id="\u53C2\u8003" tabindex="-1">\u53C2\u8003 <a class="header-anchor" href="#\u53C2\u8003" aria-hidden="true">#</a></h3><ul><li><a href="https://learning.postman.com/docs/sending-requests/cookies/" target="_blank" rel="noreferrer">Using cookies</a></li><li><a href="https://github.com/postmanlabs/postman-app-support/issues/9253" target="_blank" rel="noreferrer">CookieStore: programmatic access to &quot;127.0.0.1&quot; is denied </a></li></ul>',9),r=[t];function c(D,i,y,F,C,A){return n(),a("div",null,r)}const h=s(e,[["render",c]]);export{m as __pageData,h as default};
