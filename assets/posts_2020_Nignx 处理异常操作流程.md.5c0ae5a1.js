import{_ as o,c,C as a,z as r,x as e,a as g,N as d,D as l,o as x}from"./chunks/framework.af95065a.js";const f=JSON.parse('{"title":"Nignx 处理异常操作流程","description":"","frontmatter":{"title":"Nignx 处理异常操作流程","author":"teemwu","date":"2020/05/10 11:08","isPublished":true,"categories":["报错","服务器"],"tags":["nginx"],"wordCount":340},"headers":[{"level":1,"title":"Nignx 处理异常操作流程","slug":"nignx-处理异常操作流程","link":"#nignx-处理异常操作流程","children":[{"level":3,"title":"1、检测是否开启 nginx","slug":"_1、检测是否开启-nginx","link":"#_1、检测是否开启-nginx","children":[]},{"level":3,"title":"2、检测 nginx 配置是否正确","slug":"_2、检测-nginx-配置是否正确","link":"#_2、检测-nginx-配置是否正确","children":[]},{"level":3,"title":"3、nginx 错误日志查看","slug":"_3、nginx-错误日志查看","link":"#_3、nginx-错误日志查看","children":[]}]}],"relativePath":"posts/2020/Nignx 处理异常操作流程.md","lastUpdated":1679880402000}'),u={name:"posts/2020/Nignx 处理异常操作流程.md"},y=e("h1",{id:"nignx-处理异常操作流程",tabindex:"-1"},[g("Nignx 处理异常操作流程 "),e("a",{class:"header-anchor",href:"#nignx-处理异常操作流程","aria-label":'Permalink to "Nignx 处理异常操作流程"'},"​")],-1),h=d(`<p>很久没弄 nginx ，最近安装 cms 时 发现 nginx 映射出错，外网访问域名异常，经过很久才确定错误源，因此想整理下基本的排错流程，以便日后使用</p><h3 id="_1、检测是否开启-nginx" tabindex="-1">1、检测是否开启 nginx <a class="header-anchor" href="#_1、检测是否开启-nginx" aria-label="Permalink to &quot;1、检测是否开启 nginx&quot;">​</a></h3><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C3E88D;">ps -ef | grep nginx</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><p>输出类似如下信息则说明已经开启成功</p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F07178;">root      1763     1  0 May09 ?        00:00:00 nginx</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">master process nginx</span></span>
<span class="line"><span style="color:#F07178;">www-data  1863  1763  0 May09 ?        00:00:00 nginx</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">worker process</span></span>
<span class="line"><span style="color:#C3E88D;">root      4631  4617  0 10:30 pts/1    00:00:00 grep nginx</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><p>否则，去到 nginx 的安装目录进行启动（ 默认安装目录：<code>/usr/sbin/nginx</code>），如若找不到安装目录可以用如下命令查找</p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C3E88D;">whereis nginx</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><p>进入到 <code>/usr/sbin/</code> 目录，然后自行以下命令</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">./nginx</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>如果开启不成功，则需要根据报错信息另找原因</p><h3 id="_2、检测-nginx-配置是否正确" tabindex="-1">2、检测 nginx 配置是否正确 <a class="header-anchor" href="#_2、检测-nginx-配置是否正确" aria-label="Permalink to &quot;2、检测 nginx 配置是否正确&quot;">​</a></h3><div class="language-bat"><button title="Copy Code" class="copy"></button><span class="lang">bat</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">nginx -t</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><p>如果输出类似以下成功信息，则说明配置成功</p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F07178;">nginx</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">the configuration file /etc/nginx/nginx.conf syntax is ok</span></span>
<span class="line"><span style="color:#F07178;">nginx</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">configuration file /etc/nginx/nginx.conf test is successful</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><p>否则，需要到 nginx 的配置目录进行配置排查</p><h3 id="_3、nginx-错误日志查看" tabindex="-1">3、nginx 错误日志查看 <a class="header-anchor" href="#_3、nginx-错误日志查看" aria-label="Permalink to &quot;3、nginx 错误日志查看&quot;">​</a></h3><p>默认存放错误日志的目录在 <code>/var/log/nginx</code>，到达目录可以通过以下命令查看错误信息</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">tail -f error.log</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>根据错误日志进行排查即可</p>`,19);function C(n,s,_,m,D,b){const t=l("articleMeta"),p=l("ClientOnly");return x(),c("div",null,[y,a(p,null,{default:r(()=>[a(t,{modelValue:n.$frontmatter,"onUpdate:modelValue":s[0]||(s[0]=i=>n.$frontmatter=i)},null,8,["modelValue"])]),_:1}),h])}const v=o(u,[["render",C]]);export{f as __pageData,v as default};
